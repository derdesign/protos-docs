<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns:yui="http://yuilibrary.com/rdf/1.0/yui.rdf#">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>API: lib   response.js  (Protos Web Framework)</title>

  <link rel="stylesheet" type="text/css" href="assets/reset-fonts-grids-min.css" />
  <link rel="stylesheet" type="text/css" href="assets/api.css" />
  <link type="text/css" rel="stylesheet" href="assets/sh/styles/shCoreDefault.css" />
  <link type="text/css" rel="stylesheet" href="assets/client.css" />

  <script type="text/javascript" src="assets/api-js"></script>
  <script type="text/javascript" src="assets/ac-js"></script>

  <script type="text/javascript" src="assets/jquery-1.7.1.js"></script>
  <script type="text/javascript" src="assets/jquery.base64.js"></script>
  <script type="text/javascript" src="assets/sh/scripts/shCore.js"></script>
  <script type="text/javascript" src="assets/sh/scripts/shBrushJScript.js"></script>
  <script type="text/javascript" src="assets/client.js"></script>

</head>

<body id="yahoo-com">

<div id="doc3" class="yui-t2">
	<div id="hd">
        <h1><a href="http://derdesign.github.com/protos" title="Protos Web Framework">Protos Web Framework</a></h1>
        <h3>lib&nbsp; <span class="subtitle">0.2.0</span></h3>
        <a href="./index.html" title="Protos Web Framework">Protos Web Framework</a> 
            &gt; <a href="./module_lib.html" title="lib">lib</a>
                
                 &gt; response.js (source view) 
        <form onsubmit="return false">
            <div id="propertysearch">
                Search: <input autocomplete="off" id="searchinput" />
                <div id="searchresults">
                    &nbsp;
                </div>
            </div>
        </form>
	</div>

	<div id="bd">
		<div id="yui-main">
			<div class="yui-b">
            <form action="#" name="yui-classopts-form" method="get" id="yui-classopts-form">
                <fieldset>
                    <legend>Filters</legend>
                <span class="classopts"><input type="checkbox" name="show_private" id="show_private" /> <label for="show_private">Show Private</label></span>
                <span class="classopts"><input type="checkbox" name="show_protected" id="show_protected" /> <label for="show_protected">Show Protected</label></span>
                <span class="classopts"><input type="checkbox" name="show_deprecated" id="show_deprecated" /> <label for="show_deprecated">Show Deprecated</label></span>
                </fieldset>
            </form>

                    <div id="srcout">
                        <style>
                            #doc3 .classopts { display:none; }
                        </style>
                        <div class="highlight"><pre><pre class="brush: js">
/**
  @module lib
  @namespace http
 */
 
/**
  @private
  @class OutgoingMessage
  @constructor
 */

var _ = require('underscore'),
    http = require('http'),
    pathModule = require('path'),
    util = require('util'),
    fs = require('fs'),
    slice = Array.prototype.slice,
    stringify = JSON.stringify,
    searchPattern = protos.util.searchPattern,
    OutgoingMessage = http.OutgoingMessage;

/**
  Renders the specified view

  @method render
  @param {string} view
  @param {object} data
  @param {boolean} raw
 */

var forceRaw = /^#([0-9]{3}|msg)(\.[a-z\.]+)?$/i;

// console.log(forceRaw.test('#404'));         // true
// console.log(forceRaw.test('#msg'));         // true
// console.log(forceRaw.test('#msg.html'));    // true
// console.log(forceRaw.test('#404.html'));    // true
// console.log(forceRaw.test('#404.kw.html')); // true
// console.log(forceRaw.test('#404.'));        // false
// console.log(forceRaw.test('#hello'));       // false

OutgoingMessage.prototype.render = function(view, data, raw) {

  var self = this,
      app = this.app;
      
  // Set raw if msg is either #{error}.html or #msg.html
  raw = forceRaw.test(view) || raw;
  
  // Don't render if no engines loaded
  if (app.loadedEngines.length === 0) {
    this.end('500 Internal Server Error');
    app.log(new Error("No Engines loaded. Unable to render " + this.request.url));
    return;
  }

  // Check for response_cache middleware -> get response_cache resource
  var cacheStore = (app.supports.response_cache && app.resources.response_cache.storage);

  if (cacheStore && this.cacheID != null) {
    var cb = function(err, response) {
      if (err) {
        return app.serverError(self, err);
      } else if (response == null) {
        self.__doResponseCache = true;
        asyncRender.call(self, view, data, raw);
      } else {
        self.__runtimeData = {
          views: [],
          buffer: response
        };
        app.debug("Using cached response for " + self.cacheID);
        renderViewBuffer.call(self);
      }
    }
    
    /*
      CacheIDs are stored in the `app.response_cache` object. If a cacheID
      is not present, the cache will be flushed and a new cache will be created.
      
      This allows you to invalidate caches anytime.
    */
    
    if (this.cacheID in app.response_cache) {
      // Already a fresh cache
      cacheStore.get(this.cacheID, cb);
    } else {
      // Create new cache (flush previous)
      cacheStore.delete(self.cacheID, function(err) {
        if (err) return app.serverError(self, err);
        else {
          app.debug("Refreshed cacheID for " + self.cacheID);
          app.response_cache[self.cacheID] = true;
          cacheStore.get(self.cacheID, cb);
        }
      });
    }
    
  } else {
    asyncRender.call(self, view, data, raw);
  }
}

/**
  Gets the view path

  VIEW RENDERING LOGIC

  Using a view alias or filename:

    res.render('index'); -> will render 'main/main-index.{extension}'
    res.render('hello-there.{extension}') -> will render 'main/hello-there.{extension}'

  Using a path relative to the views/ directory:

    res.render('main/index') -> will render 'main/main-index.{extension}'
    res.render('/main/index') -> will render 'main/main-index.{extension}'
    res.render('main/index.{extension}') -> will render 'main/index.{extension}'
    res.render('/hello') -> will render '/hello.{extension}' (relative to views/)
    res.render('/hello.{extension}') -> will render '/hello.{extension}' (relative to views/)

  @method getViewPath
  @param {string} view
  @return {string} Resolved view path
 */

OutgoingMessage.prototype.getViewPath = function(view) {
  var alias, app, controller, depth, dirname, file, path;
  app = this.app;
  controller = this.__controller || app.controller;
  dirname = pathModule.dirname(view);

  if (app.regex.layoutView.test(view)) {
    view = view.replace(app.regex.layoutView, '');
    path = app.mvcpath + "views/" + app.paths.layout + view;
  } else if (app.regex.restrictedView.test(view)) {
    view = view.replace(app.regex.restrictedView, '');
    path = app.mvcpath + "views/" + app.paths.restricted + view;
  } else if (!app.regex.startsWithSlash.test(view) && dirname == '.') {
    alias = controller.getAlias();
    if (app.regex.templateFile.test(view)) {
      path = app.mvcpath + "views/" + alias + "/" + view;
    } else {
      path = app.mvcpath + "views/" + alias + "/" + alias + "-" + view;
    }
  } else {
    view = view.replace(app.regex.startsWithSlash, '');
    dirname = pathModule.dirname(view);
    if (dirname == '.' || this.isStaticView) {
      path = app.mvcpath + "views/" + app.paths.static + view;
    } else {
      depth = (searchPattern(view, '/'))['/'].length;
      if (depth == 1) {
        view = view.split('/');
        path = (app.regex.templateFile.test(view[1])
        ? app.mvcpath + "views/" + view[0] + "/" + view[1]
        : app.mvcpath + "views/" + view[0] + "/" + view[0] + "-" + view[1]);
      } else {
        path = app.mvcpath + "views/" + view;
      }
    }
  }

  if (! app.regex.templateFile.test(path)) {
    path = app.views.pathAsoc[app.relPath(path)]
  }
  
  return path;

}

/**
  Renders the `app/views/__restricted/msg.html` template, passing a statusCode

  @method httpMessage
  @param {integer} statusCode (optional)
  @param {string} message
  @param {boolean} raw (optional)
 */

OutgoingMessage.prototype.httpMessage = function(statusCode, message, raw) {
  var buffer, ob, app = this.app;

  switch (typeof statusCode) {
    case 'object':
      // res.httpMessage({statusCode: 404, message: 'not found', raw: true});
      ob = statusCode;
      statusCode = ob.statusCode || 200;
      message = ob.message || null;
      raw = ob.raw
      break;
    case 'string':
      // res.httpMessage('hello');
      // res.httpMessage('hello', true);
      raw = (typeof message == 'boolean') && message;
      message = statusCode;
      statusCode = 200;
      break;
    case 'number':
      // res.httpMessage(200);
      // res.httpMessage(200, 'hello');
      // res.httpMessage(200, 'hello', true);
      if (typeof message == 'boolean') {
        raw = message;
        message = null;
      }
      break;
  }
  
  this.statusCode = statusCode;

  buffer = (message != null
  ? message
  : this.statusCode + " " + http.STATUS_CODES[this.statusCode] + "\n");

  if (this.request.isAjax || raw) {
    this.sendHeaders({'Content-Type': 'text/plain'});
    this.end(buffer, app.config.encoding);
  } else {
    this.render('#msg', {
      message: buffer.trim()
    }, app.config.rawViews);
  }

}

/**
  Redirects to a specific location, with a default HTTP Status Code of 302

  @method redirect
  @param {string} location
  @param {int} statusCode
 */

OutgoingMessage.prototype.redirect = function(location, statusCode) {
  if (this._header != null) return;
  
  this.statusCode = (statusCode || 302);

  if (! protos.regex.url.test(location) ) {
    location = this.app.url(location);
  }

  this.setHeaders({Location: location});

  if (this.__setCookie.length > 0) this.setHeader('Set-Cookie', this.__setCookie);
  
  this.sendHeaders();
  this.end();
}

/**
  Sets response headers

  @method setHeaders
  @param {object} headers
 */

OutgoingMessage.prototype.setHeaders = function(headers) {
  if (this._header != null) return; // Already sent headers
  return this.__headers = _.extend(this.__headers, headers);
}

/**
  Evaluate the dynamic headers provided by the application. The dynamic headers are functions
  that provide custom output, based on the current state of the response being returned.
  
  Dynamic headers can be found on `app.config.headers`.

  @method headerFilter
 */

OutgoingMessage.prototype.headerFilter = function() {
  if (this._header != null) return;
  var action, field;
  for (field in this.__headers) {

    // Check if header is overridden
    var ovr = (this._headers) ? this._headers[field.toLowerCase()] : void 0;

    if (typeof ovr != 'undefined') {
      this.__headers[field] = ovr;
      continue; // Skip field, already processed
    } else {
      action = this.__headers[field];
      if (typeof action == 'string') {
        this.__headers[field] = action;
      } else if (typeof action == 'function') {
        this.__headers[field] = action.call(this.app, this.request, this);
      } else {
        continue; // Skip field
      }
    }
  }
}

/**
  Sends the HTTP Headers

  @method sendHeaders
  @param {object} extraHeaders
 */

OutgoingMessage.prototype.sendHeaders = function(extraHeaders) {
  if (this._header != null) return;

  // Set extra headers
  if (extraHeaders != null && typeof extraHeaders == 'object') this.setHeaders(extraHeaders);

  this.headerFilter();
  
  if (this.__setCookie.length > 0) this.setHeader('Set-Cookie', this.__setCookie);
  
  for (var key in this.__headers) {
    this.setHeader(key, this.__headers[key]);
  }
  
  this.writeHead(this.statusCode);
}

/**
  Sends a JSON Response. This method behaves according to the configuration
  found on `app.config.json`.
  
  @method json
  @param {object} data Object containing json data
  @param {string} func Function name to use as jsoncallback
 */

OutgoingMessage.prototype.json = function(data, func) {
  var app = this.app,
      jsonConfig = app.config.json;

  this.statusCode = 200;

  this.sendHeaders({
    'Cache-Control': app.config.cacheControl.json,
    'Content-Type': jsonConfig.contentType,
    'Connection': jsonConfig.connection
  });
  
  var format = (jsonConfig.pretty) ? '  ' : null,
      json = stringify(data, jsonConfig.replacer, format);
  
  if (func && typeof func == 'string') {
    json = util.format('%s(%s)', func, json);
  }
  
  this.end(json);
}

/**
  Sets the response context.
  
  The response context is used to optimize performance, by isolating
  certain operations to a specific response context.
  
  For example, the `context` filter, allows you to modify the
  rendered response`s buffer, prior to sending it to the client.
  
  You can apply more specific filters by assigning your functions to 
  a context-specific filter. E.g.: `blog_context`.
  
  @method setContext
  @param {string} context
 */
 
OutgoingMessage.prototype.setContext = function() {
  var context = this.__context || (this.__context = []);
  for (var i=0,len=arguments.length; i < len; i++) {
    context.push(arguments[i]);
  }
}

/**
  Send an AJAX Response if it's an ajax request.
  
  It sends the message in plain text for ajax. If not, uses the #msg
  template to send the response.
  
  @method ajaxResponse
  @param {string} msg
  @public
 */

OutgoingMessage.prototype.ajaxResponse = function(msg) {
  if (this.request.isAjax) {
    // Sending headers will make sure that any cookies
    // set during the response persist on the next request
    // NOTE: res.sendHeaders sets extra headers, then sends
    this.sendHeaders({
      'Content-Type': 'text/plain; charset=' + this.app.config.encoding
    });
    this.end(msg);
  } else {
    this.httpMessage(msg);
  }
}

/* Private functions */


/*
  Reusable function that handles asynchronous rendering of templates

  @private
  @param {string} view
  @param {object} data
  @param {boolean} raw
 */

function asyncRender(view, data, raw) {
  var app = this.app,
      request = this.request;

  // Get raw option, or set default
  raw = (raw || app.config.rawViews);

  // Detect args
  if (typeof data == 'boolean') { raw = data; data = null; }
  
  // Get controller, or set default
  var controller = (this.__controller || app.controller);
  
  // Create new object with partials as prototype
  var proto = Object.create(app.views.partials);
  
  // Make app.globals available as view locals
  _.extend(proto, app.globals);
  
  if (data == null) {
    // If no data available, use proto as data
    data = proto;
  } else {
    // Set proto as data`s prototype
    data.__proto__ = proto;
  }
  
  // View Locals
  data = _.extend(data, {
    protos: protos,
    app: app,
    res: this,
    req: request,
    params: request.params,
    session: request.session || {},
    cookies: request.cookies || {},
  });
  
  // Extend data with request metadata
  _.extend(data, request.__metadata);
  
  // Add `locals` variable redundancy
  data.locals = this.viewLocals = data;
  
  // Add view data filter. Useful if you want to add locals
  app.emit('view_locals', data);
  
  // Get engine
  var engine = app.defaultEngine.getEngineByExtension(this.getViewPath(view));
  
  if (!engine) {
    // Using this.end to prevent infinite loops
    this.end('500 Internal Server Error');
    app.log(new Error("No engine detected for route: " + request.url));
    return;
  } else if (engine.multiPart === false) {
    // Force raw on non-multiPart engines
    raw = true;
  }
  
  // Attach engine to response
  this.engine = engine;

  // Render full layout or response
  // TODO: Ability to pass an array with the desired layout to res.render (awesome!)
  // TODO: If view is an array, ignore the `raw` option
  var views = (raw) ? [view] : ['@header', view, '@footer'];
    
  // TODO: Assign status code based on template name (validated with regex)
  if (view == '#404') this.statusCode = 404;
  else if (view == '#500') this.statusCode = 500;

  this.__runtimeData = {
    buffer: '',
    data: data,
    views: views,
    currentView: null,
    controller: controller,
    mainView: view,
  };
  
  renderViewBuffer.call(this);
}

/*
  Renders the view buffer

  @private
 */

var httpErrors = ['4', '5']; // 4xx, 5xx

function renderViewBuffer() {
  
  var buffer, codeBlock, controller, data, logData, relPath, request,
      template, view, viewBuffers, viewCaching, viewCallbacks,
      runtimeData = this.__runtimeData,
      app = this.app,
      cacheStore = (app.supports.response_cache && app.resources.response_cache.storage),
      self = this;
            
  // This block only runs when view rendering is complete
  request = this.request;
  
  // Prevent duplicate view rendering on static files
  if (request.isStatic) return delete request.isStatic;
  
  if (runtimeData.views.length === 0) {
    codeBlock = function() {
      if (this.__headers['Cache-Control'] == null) {
        var httpErr = (this.statusCode).toString().charAt(0);
        var cc = (httpErrors.indexOf(httpErr) >= 0) ? 'error' : 'dynamic';
        this.setHeaders({
          'Cache-Control': app.config.cacheControl[cc]
        });
      }
      this.sendHeaders();
      this.end(runtimeData.buffer, 'utf8');
    }
    
    // Run view filters (context event)
    applyViewFilters.call(this, runtimeData);

    if (cacheStore != null && this.__doResponseCache === true) {
      // console.log(runtimeData.buffer);
      cacheStore.set(this.cacheID, runtimeData.buffer, function(err, info) {
        if (err) {
          app.serverError(self, [err]);
        } else {
          app.debug("Cached response for " + self.cacheID);
          return codeBlock.call(self);
        }
      });
    } else {
      codeBlock.call(self);
    }
    
    return;
  }

  viewCaching = app.viewCaching;
  viewCallbacks = app.views.callbacks;
  viewBuffers = app.views.buffers;
  data = runtimeData.data;
  controller = runtimeData.controller;
  view = runtimeData.views.shift();
  
  template = this.getViewPath(view);
  
  if (typeof template == 'undefined') {
    // the specified view does not exist
    if (view) app.serverError(this, ['View does not exist: ' + controller.getAlias() + '/' + view]);
    return;
  }

  data.__filename = template;
  data.__dirname = pathModule.dirname(template);

  // Set engine for specific template
  self.engine = app.defaultEngine.getEngineByExtension(template);
  relPath = app.relPath(template, app.mvcpath.slice(1) + 'views');

  if (viewCaching) {
    if (viewCallbacks[relPath] instanceof Function) {
      try {
        buffer = viewCallbacks[relPath](data);
      } catch (e) {
        buffer = e;
      }
      if (typeof buffer == 'string') {
        app.emit('view_cache_access', app, relPath);
        runtimeData.buffer += buffer;
        renderViewBuffer.call(this);
        return;
      } else {
        app.emit('view_cache_access', app, relPath);
        logData = [relPath, buffer];
        app.serverError(this, logData);
        return;
      }
    } else if ((viewBuffers[relPath] != null) && util.isArray(viewBuffers[relPath])) {
      app.emit('view_cache_access', app, relPath);
      logData = viewBuffers[relPath];
      app.serverError(this, logData);
      return;
    }
  }
  
  fs.exists(template, function(exists) {
    if (viewCaching) app.emit('view_cache_store', app, relPath);
    if (exists) {
      fs.readFile(template, 'utf-8', function(err, templateBuffer) {
        if (err) {
          app.serverError(self, new Error(util.format('Unable to read file: %s', relPath)));
        } else {
          
          if (self.engine.async) {
            self.once('__async_template_done', function(buffer) {
              if (typeof buffer == 'string') {
                runtimeData.buffer += buffer;
                renderViewBuffer.call(self);
              } else {
                logData = [relPath, buffer];
                if (viewCaching) viewBuffers[relPath] = logData;
                app.serverError(self, logData);
              }
            });

            self.engine.render(templateBuffer, data, relPath);

          } else {
            
            buffer = self.engine.render(templateBuffer, data, relPath);
            if (typeof buffer == 'string') {
              runtimeData.buffer += buffer;
              renderViewBuffer.call(self);
            } else {
              logData = [relPath, buffer];
              if (viewCaching) viewBuffers[relPath] = logData;
              app.serverError(self, buffer);
            }

          }
        }
      });
    } else {
      app.serverError(self, new Error(util.format("The file can't be found: %s", app.relPath(template))));
    }
  });
}

/*
  Applies view filters
  
  If the response has a context set, the applied filter will have the context as the prefix.
  So, if a `blog` context is set, the filter will be `blog_context`. It's worth mentioning
  that the general `context` filter won't be applied if a context is set.
  
  You can apply the `context` filter from your context-specific filter. This allows fine
  grained control on how the content will be modified by the filters.
  
  @param {object} runtimeData
  @private
 */

function applyViewFilters(runtimeData) {
  var context, locals, app = this.app;
  var filter = 'context';
  
  // Run general context
  var buffer = app.applyFilters(filter, runtimeData.buffer, (locals = this.viewLocals) );
  
  // Run specific contexts
  if ( (context = this.__context) ) {
    for (var i=0,len=context.length; i < len; i++) {
      buffer = app.applyFilters(context[i] + '_' + filter, buffer, locals);
    }
  }
  
  runtimeData.buffer = buffer;
}
</pre><!-- .brush: js -->
</div>

                    </div>
			</div>
		</div>
		<div class="yui-b">
            <div class="nav">

                    <div id="moduleList" class="module">
                        <h4>Modules</h4>
                        <ul class="content">
                                <li class=""><a href="module_drivers.html" title="drivers">drivers</a></li>
                                <li class=""><a href="module_engines.html" title="engines">engines</a></li>
                                <li class="selected"><a href="module_lib.html" title="lib">lib</a></li>
                                <li class=""><a href="module_storages.html" title="storages">storages</a></li>
                        </ul>
                    </div>

                    <div id="classList" class="module">
                        <h4>Classes</h4>
                        <ul class="content">
                                <li class=""><a href="Application.html" title="Application">Application</a></li>
                                <li class=""><a href="http.IncomingMessage.html" title="http.IncomingMessage">http.IncomingMessage</a></li>
                                <li class=""><a href="http.OutgoingMessage.html" title="http.OutgoingMessage">http.OutgoingMessage</a></li>
                                <li class=""><a href="ModelObject.html" title="ModelObject">ModelObject</a></li>
                                <li class=""><a href="Protos.html" title="Protos">Protos</a></li>
                                <li class=""><a href="Storage.html" title="Storage">Storage</a></li>
                                <li class=""><a href="Utility.html" title="Utility">Utility</a></li>
                                <li class=""><a href="Validator.html" title="Validator">Validator</a></li>
                        </ul>
                    </div>

                    <div id="fileList" class="module">
                        <h4>Files</h4>
                        <ul class="content">        
                                <li class=""><a href="application.js.html" title="application.js">application.js</a></li>
                                <li class=""><a href="protos.js.html" title="protos.js">protos.js</a></li>
                                <li class=""><a href="regex.js.html" title="regex.js">regex.js</a></li>
                                <li class=""><a href="request.js.html" title="request.js">request.js</a></li>
                                <li class="selected"><a href="response.js.html" title="response.js">response.js</a></li>
                                <li class=""><a href="storage.js.html" title="storage.js">storage.js</a></li>
                                <li class=""><a href="utility.js.html" title="utility.js">utility.js</a></li>
                                <li class=""><a href="validator.js.html" title="validator.js">validator.js</a></li>
                        </ul>
                    </div>





            </div>
		</div>
	</div>
	<div id="ft">
        <hr />
        Copyright &copy; 2012 <a href="https://github.com/derdesign">Ernesto M&eacute;ndez</a>. All rights reserved.
	</div>
</div>
<script type="text/javascript">

    var ALL_YUI_PROPS = [{"url": "Validator.html#method_add", "access": "", "host": "Validator", "type": "method", "name": "add"}, {"url": "Application.html#method_addAsyncTask", "access": "private", "host": "Application", "type": "method", "name": "addAsyncTask"}, {"url": "Validator.html#method_addOptional", "access": "", "host": "Validator", "type": "method", "name": "addOptional"}, {"url": "http.OutgoingMessage.html#method_ajaxResponse", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "ajaxResponse"}, {"url": "Application.html#property_baseUrl", "access": "", "host": "Application", "type": "property", "name": "baseUrl"}, {"url": "Protos.html#method_bootstrap", "access": "", "host": "Protos", "type": "method", "name": "bootstrap"}, {"url": "Protos.html#method_checkInspectorStatus", "access": "private", "host": "Protos", "type": "method", "name": "checkInspectorStatus"}, {"url": "Utility.html#method_checkPort", "access": "", "host": "Utility", "type": "method", "name": "checkPort"}, {"url": "Application.html#property_className", "access": "private", "host": "Application", "type": "property", "name": "className"}, {"url": "Protos.html#property_className", "access": "", "host": "Protos", "type": "property", "name": "className"}, {"url": "Application.html#property_client", "access": "private", "host": "Application", "type": "property", "name": "client"}, {"url": "Storage.html#property_client", "access": "private", "host": "Storage", "type": "property", "name": "client"}, {"url": "Protos.html#property_clusterConfig", "access": "", "host": "Protos", "type": "property", "name": "clusterConfig"}, {"url": "Utility.html#method_colorize", "access": "", "host": "Utility", "type": "method", "name": "colorize"}, {"url": "Application.html#property_config", "access": "", "host": "Application", "type": "property", "name": "config"}, {"url": "Storage.html#property_config", "access": "private", "host": "Storage", "type": "property", "name": "config"}, {"url": "Protos.html#method_configExtend", "access": "", "host": "Protos", "type": "method", "name": "configExtend"}, {"url": "Protos.html#method_configure", "access": "private", "host": "Protos", "type": "method", "name": "configure"}, {"url": "Application.html#property_controllers", "access": "private", "host": "Application", "type": "property", "name": "controllers"}, {"url": "Application.html#method_convertTypes", "access": "private", "host": "Application", "type": "method", "name": "convertTypes"}, {"url": "Application.html#property_cookieDomain", "access": "private", "host": "Application", "type": "property", "name": "cookieDomain"}, {"url": "Application.html#method_createCurrentState", "access": "private", "host": "Application", "type": "method", "name": "createCurrentState"}, {"url": "Application.html#method_createModel", "access": "private", "host": "Application", "type": "method", "name": "createModel"}, {"url": "ModelObject.html#method_createMulti", "access": "private", "host": "ModelObject", "type": "method", "name": "createMulti"}, {"url": "Utility.html#method_createRegexPattern", "access": "", "host": "Utility", "type": "method", "name": "createRegexPattern"}, {"url": "Application.html#property_debugColor", "access": "private", "host": "Application", "type": "property", "name": "debugColor"}, {"url": "Application.html#property_debugLog", "access": "", "host": "Application", "type": "property", "name": "debugLog"}, {"url": "Storage.html#method_decr", "access": "", "host": "Storage", "type": "method", "name": "decr"}, {"url": "Storage.html#method_decrBy", "access": "", "host": "Storage", "type": "method", "name": "decrBy"}, {"url": "ModelObject.html#method_delete", "access": "", "host": "ModelObject", "type": "method", "name": "delete"}, {"url": "Storage.html#method_delete", "access": "", "host": "Storage", "type": "method", "name": "delete"}, {"url": "Storage.html#method_deleteFromHash", "access": "", "host": "Storage", "type": "method", "name": "deleteFromHash"}, {"url": "ModelObject.html#method_destroy", "access": "", "host": "ModelObject", "type": "method", "name": "destroy"}, {"url": "Application.html#property_drivers", "access": "private", "host": "Application", "type": "property", "name": "drivers"}, {"url": "Protos.html#property_drivers", "access": "", "host": "Protos", "type": "property", "name": "drivers"}, {"url": "Protos.html#method_enableDebugger", "access": "", "host": "Protos", "type": "method", "name": "enableDebugger"}, {"url": "Application.html#property_engines", "access": "private", "host": "Application", "type": "property", "name": "engines"}, {"url": "Protos.html#property_engines", "access": "", "host": "Protos", "type": "property", "name": "engines"}, {"url": "Protos.html#property_environment", "access": "", "host": "Protos", "type": "property", "name": "environment"}, {"url": "Utility.html#method_excludeWithPattern", "access": "", "host": "Utility", "type": "method", "name": "excludeWithPattern"}, {"url": "Storage.html#method_expire", "access": "", "host": "Storage", "type": "method", "name": "expire"}, {"url": "Protos.html#method_extend", "access": "", "host": "Protos", "type": "method", "name": "extend"}, {"url": "Utility.html#method_extract", "access": "", "host": "Utility", "type": "method", "name": "extract"}, {"url": "Validator.html#method_filter", "access": "", "host": "Validator", "type": "method", "name": "filter"}, {"url": "Application.html#property___filters", "access": "private", "host": "Application", "type": "property", "name": "__filters"}, {"url": "Utility.html#method_filterWithPattern", "access": "", "host": "Utility", "type": "method", "name": "filterWithPattern"}, {"url": "Application.html#method_flushAsyncTask", "access": "private", "host": "Application", "type": "method", "name": "flushAsyncTask"}, {"url": "ModelObject.html#property_generator", "access": "", "host": "ModelObject", "type": "property", "name": "generator"}, {"url": "Storage.html#method_get", "access": "", "host": "Storage", "type": "method", "name": "get"}, {"url": "http.IncomingMessage.html#method_get", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "get"}, {"url": "Utility.html#method_getFiles", "access": "", "host": "Utility", "type": "method", "name": "getFiles"}, {"url": "Storage.html#method_getHash", "access": "", "host": "Storage", "type": "method", "name": "getHash"}, {"url": "http.IncomingMessage.html#method_getQueryData", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "getQueryData"}, {"url": "http.OutgoingMessage.html#method_getViewPath", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "getViewPath"}, {"url": "Application.html#property_globals", "access": "", "host": "Application", "type": "property", "name": "globals"}, {"url": "http.OutgoingMessage.html#method_headerFilter", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "headerFilter"}, {"url": "Application.html#property_helpers", "access": "private", "host": "Application", "type": "property", "name": "helpers"}, {"url": "Application.html#property_hooks", "access": "private", "host": "Application", "type": "property", "name": "hooks"}, {"url": "Application.html#property_hostname", "access": "private", "host": "Application", "type": "property", "name": "hostname"}, {"url": "http.OutgoingMessage.html#method_httpMessage", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "httpMessage"}, {"url": "Application.html#property_httpMethods", "access": "private", "host": "Application", "type": "property", "name": "httpMethods"}, {"url": "Application.html#property_httpStatusCodes", "access": "private", "host": "Application", "type": "property", "name": "httpStatusCodes"}, {"url": "Protos.html#property_i18n", "access": "", "host": "Protos", "type": "property", "name": "i18n"}, {"url": "Validator.html#property_i18n", "access": "", "host": "Validator", "type": "property", "name": "i18n"}, {"url": "Storage.html#method_incr", "access": "", "host": "Storage", "type": "method", "name": "incr"}, {"url": "Storage.html#method_incrBy", "access": "", "host": "Storage", "type": "method", "name": "incrBy"}, {"url": "Protos.html#property_inflect", "access": "", "host": "Protos", "type": "property", "name": "inflect"}, {"url": "Protos.html#method_inherits", "access": "", "host": "Protos", "type": "method", "name": "inherits"}, {"url": "Application.html#method_initialize", "access": "private", "host": "Application", "type": "method", "name": "initialize"}, {"url": "Application.html#property_initialized", "access": "private", "host": "Application", "type": "property", "name": "initialized"}, {"url": "http.OutgoingMessage.html#method_json", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "json"}, {"url": "Protos.html#method_launchApplication", "access": "private", "host": "Protos", "type": "method", "name": "launchApplication"}, {"url": "Protos.html#property_lib", "access": "", "host": "Protos", "type": "property", "name": "lib"}, {"url": "Protos.html#method_loadDriver", "access": "", "host": "Protos", "type": "method", "name": "loadDriver"}, {"url": "Protos.html#method_loadDrivers", "access": "", "host": "Protos", "type": "method", "name": "loadDrivers"}, {"url": "Protos.html#method_loadEngine", "access": "", "host": "Protos", "type": "method", "name": "loadEngine"}, {"url": "Protos.html#method_loadEngines", "access": "", "host": "Protos", "type": "method", "name": "loadEngines"}, {"url": "Protos.html#method_loadStorage", "access": "", "host": "Protos", "type": "method", "name": "loadStorage"}, {"url": "Protos.html#method_loadStorages", "access": "", "host": "Protos", "type": "method", "name": "loadStorages"}, {"url": "Application.html#property_logging", "access": "", "host": "Application", "type": "property", "name": "logging"}, {"url": "Application.html#property_loginUrl", "access": "", "host": "Application", "type": "property", "name": "loginUrl"}, {"url": "Utility.html#method_ls", "access": "", "host": "Utility", "type": "method", "name": "ls"}, {"url": "Application.html#property_model", "access": "", "host": "Application", "type": "property", "name": "model"}, {"url": "Application.html#property_models", "access": "private", "host": "Application", "type": "property", "name": "models"}, {"url": "Application.html#method_multi", "access": "private", "host": "Application", "type": "method", "name": "multi"}, {"url": "Storage.html#method_multi", "access": "", "host": "Storage", "type": "method", "name": "multi"}, {"url": "Application.html#property_mvcpath", "access": "private", "host": "Application", "type": "property", "name": "mvcpath"}, {"url": "http.IncomingMessage.html#method_next", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "next"}, {"url": "Utility.html#method_onlySetEnumerable", "access": "", "host": "Utility", "type": "method", "name": "onlySetEnumerable"}, {"url": "http.IncomingMessage.html#method_pageTitle", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "pageTitle"}, {"url": "Utility.html#method_parseRange", "access": "private", "host": "Utility", "type": "method", "name": "parseRange"}, {"url": "Application.html#property_path", "access": "private", "host": "Application", "type": "property", "name": "path"}, {"url": "Protos.html#property_path", "access": "", "host": "Protos", "type": "property", "name": "path"}, {"url": "Application.html#property_paths", "access": "private", "host": "Application", "type": "property", "name": "paths"}, {"url": "Application.html#method_production", "access": "", "host": "Application", "type": "method", "name": "production"}, {"url": "Protos.html#method_production", "access": "", "host": "Protos", "type": "method", "name": "production"}, {"url": "Application.html#method_propertyCheck", "access": "private", "host": "Application", "type": "method", "name": "propertyCheck"}, {"url": "Application.html#method_queryCached", "access": "", "host": "Application", "type": "method", "name": "queryCached"}, {"url": "ModelObject.html#method_queryCached", "access": "", "host": "ModelObject", "type": "method", "name": "queryCached"}, {"url": "http.OutgoingMessage.html#method_redirect", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "redirect"}, {"url": "Application.html#property_regex", "access": "", "host": "Application", "type": "property", "name": "regex"}, {"url": "Protos.html#property_regex", "access": "", "host": "Protos", "type": "property", "name": "regex"}, {"url": "Application.html#method_registerViewHelper", "access": "private", "host": "Application", "type": "method", "name": "registerViewHelper"}, {"url": "ModelObject.html#method_remove", "access": "", "host": "ModelObject", "type": "method", "name": "remove"}, {"url": "Storage.html#method_rename", "access": "", "host": "Storage", "type": "method", "name": "rename"}, {"url": "http.OutgoingMessage.html#method_render", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "render"}, {"url": "Application.html#method_require", "access": "", "host": "Application", "type": "method", "name": "require"}, {"url": "Protos.html#method_require", "access": "", "host": "Protos", "type": "method", "name": "require"}, {"url": "Utility.html#method_requireAllTo", "access": "", "host": "Utility", "type": "method", "name": "requireAllTo"}, {"url": "Protos.html#method_requireDependency", "access": "", "host": "Protos", "type": "method", "name": "requireDependency"}, {"url": "Application.html#property_resources", "access": "private", "host": "Application", "type": "property", "name": "resources"}, {"url": "Application.html#method_routeRequest", "access": "private", "host": "Application", "type": "method", "name": "routeRequest"}, {"url": "Application.html#property_routes", "access": "private", "host": "Application", "type": "property", "name": "routes"}, {"url": "ModelObject.html#method_save", "access": "", "host": "ModelObject", "type": "method", "name": "save"}, {"url": "Utility.html#method_searchPattern", "access": "", "host": "Utility", "type": "method", "name": "searchPattern"}, {"url": "http.OutgoingMessage.html#method_sendHeaders", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "sendHeaders"}, {"url": "Application.html#property_server", "access": "private", "host": "Application", "type": "property", "name": "server"}, {"url": "Protos.html#property_serverOptions", "access": "", "host": "Protos", "type": "property", "name": "serverOptions"}, {"url": "Storage.html#method_set", "access": "", "host": "Storage", "type": "method", "name": "set"}, {"url": "http.IncomingMessage.html#method_set", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "set"}, {"url": "http.OutgoingMessage.html#method_setContext", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "setContext"}, {"url": "Application.html#method_setDefaults", "access": "private", "host": "Application", "type": "method", "name": "setDefaults"}, {"url": "Storage.html#method_setHash", "access": "", "host": "Storage", "type": "method", "name": "setHash"}, {"url": "http.OutgoingMessage.html#method_setHeaders", "access": "", "host": "http.OutgoingMessage", "type": "method", "name": "setHeaders"}, {"url": "Utility.html#method_setNonEnumerable", "access": "", "host": "Utility", "type": "method", "name": "setNonEnumerable"}, {"url": "http.IncomingMessage.html#method_setPageTitle", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "setPageTitle"}, {"url": "Protos.html#method_startServer", "access": "private", "host": "Protos", "type": "method", "name": "startServer"}, {"url": "http.IncomingMessage.html#method_stopRoute", "access": "", "host": "http.IncomingMessage", "type": "method", "name": "stopRoute"}, {"url": "Application.html#property_storages", "access": "private", "host": "Application", "type": "property", "name": "storages"}, {"url": "Protos.html#property_storages", "access": "", "host": "Protos", "type": "property", "name": "storages"}, {"url": "Utility.html#method_strRepeat", "access": "", "host": "Utility", "type": "method", "name": "strRepeat"}, {"url": "Application.html#property_supports", "access": "private", "host": "Application", "type": "property", "name": "supports"}, {"url": "ModelObject.html#method_sync", "access": "", "host": "ModelObject", "type": "method", "name": "sync"}, {"url": "Utility.html#method_toCamelCase", "access": "", "host": "Utility", "type": "method", "name": "toCamelCase"}, {"url": "Application.html#method_typecast", "access": "private", "host": "Application", "type": "method", "name": "typecast"}, {"url": "Utility.html#method_typecast", "access": "", "host": "Utility", "type": "method", "name": "typecast"}, {"url": "ModelObject.html#method_update", "access": "", "host": "ModelObject", "type": "method", "name": "update"}, {"url": "Storage.html#method_updateHash", "access": "", "host": "Storage", "type": "method", "name": "updateHash"}, {"url": "Application.html#method_url", "access": "", "host": "Application", "type": "method", "name": "url"}, {"url": "Application.html#method_use", "access": "", "host": "Application", "type": "method", "name": "use"}, {"url": "Protos.html#property_util", "access": "", "host": "Protos", "type": "property", "name": "util"}, {"url": "Validator.html#method_validate", "access": "", "host": "Validator", "type": "method", "name": "validate"}, {"url": "Application.html#method_validateProperties", "access": "private", "host": "Application", "type": "method", "name": "validateProperties"}, {"url": "Application.html#method_validator", "access": "", "host": "Application", "type": "method", "name": "validator"}, {"url": "Protos.html#property_version", "access": "", "host": "Protos", "type": "property", "name": "version"}, {"url": "Application.html#property_viewCaching", "access": "", "host": "Application", "type": "property", "name": "viewCaching"}, {"url": "Application.html#property_views", "access": "private", "host": "Application", "type": "property", "name": "views"}];
</script>
</body>
</html>
